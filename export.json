{"objects":[{"jobObject":{"JobType":".OrchestrationJob","id":46306,"revision":10,"created":1581671503495,"timestamp":1581671503495,"components":{"46309":{"id":46309,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-384,"y":-144,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[46312,46313],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"46310":{"id":46310,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576616,"x":-192,"y":-96,"width":32,"height":32,"inputConnectorIDs":[46313],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Bash Script"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"#Amin S\n#Rest API call to Export Matillion Job\n\n#export\ncurl -o amin_poc.json -X GET -u t_tirup:autodesk123 \"http://localhost:8080/rest/v1/group/name/icm/project/name/icm_poc/version/name/default/job/name/poc/export\"\n\n"}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"46311":{"id":46311,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":-192,"y":-208,"width":32,"height":32,"inputConnectorIDs":[46312],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"#Amin S\n#Rest API call to export Matiilion Job and push it to S3 location\n\nimport json\nfrom botocore.vendored import requests\nimport boto3\n\ns3 = boto3.resource('s3')\n\n\nresponse = requests.get('http://127.0.0.1:8080/rest/v1/group/name/icm/project/name/icm_poc/version/name/default/job/name/event_ingestion/export', auth=('t_tirup', 'autodesk123'))\ndata = response.json()\nobj = json.dumps(data)\nprint(obj)\n\n#bucket.put_object(Key='output/rest.json', Body=data, ContentType='text/csv', ContentEncoding='utf-8')\nbucket = s3.Bucket('amin-icm-poc')\nobject = s3.Object('amin-icm-poc', 'output/rest.json')\nobject.put(Body=obj)\n"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{},"failureConnectors":{},"unconditionalConnectors":{"46312":{"id":46312,"sourceID":46309,"targetID":46311},"46313":{"id":46313,"sourceID":46309,"targetID":46310}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"canUndo":true,"undoCommand":"Delete","undoCreated":1581671501388,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"46307":{"id":46307,"x":-180,"y":-322,"width":377,"height":76,"text":"Approach #1 : Python Script\n Rest API Call to Export Matillion job in JSON format. And final output file will be available in S3 location.\n\nS3 path ::  amin-icm-poc/output/rest.json","colour":"e6e63c"},"46308":{"id":46308,"x":-196,"y":-55,"width":381,"height":76,"text":"Approach #2 Bash Script\nRest API Call to Export Matiilion job in JSON format. And final output is available at Ec2 Instance.\n","colour":"e6e63c"}},"variables":{},"grids":{}},"info":{"id":46306,"name":"Matillion_job_Export_test_neeraj","description":"Matillion_job_Export_test_neeraj","type":"ORCHESTRATION"},"path":["ICM_Amin","CICD"]}],"version":"1.42.7","environment":"redshift"}